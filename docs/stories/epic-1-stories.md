# Epic 1: 실시간 데이터 스트리밍 및 TradingView 연동

## Epic 목표
실시간 데이터 수집 및 TradingView API 연동 우선 구축 - 사용자가 실제로 실시간 데이터를 받고 TradingView에서 확인할 수 있는 기본 시스템 구축.

---

## Story 1.1: 프로젝트 기반 구조 및 기본 설정
**목표**: 개발 환경 구축 및 기본 프로젝트 구조 설정

### User Story
```
사용자로서 기본적인 개발 환경이 구축되고 필요한 라이브러리들이 설치되어 있어야 
실시간 데이터 연동을 시작할 수 있다.
```

### Acceptance Criteria
- [ ] Node.js 백엔드 프로젝트 구조 생성 완료
- [ ] 필요한 의존성 패키지 설치 (Express, Socket.io, TradingView 연동용 라이브러리 등)
- [ ] 기본 Express 서버 구동 및 헬스체크 엔드포인트 구현
- [ ] 환경 변수 설정 파일 (.env) 구조 구성
- [ ] Git 저장소 초기화 및 기본 .gitignore 설정

### 기술적 세부사항
- **백엔드**: Node.js + Express.js
- **실시간 통신**: Socket.io 준비
- **환경 설정**: dotenv 패키지
- **기본 포트**: 3000번 포트 사용

---

## Story 1.2: TradingView API 기본 연동 테스트
**목표**: TradingView 데이터 API 접근 및 기본 데이터 수집 테스트

### User Story
```
사용자로서 TradingView에서 실시간 주식 데이터를 가져올 수 있어야 
실제 투자 분석에 필요한 기본 데이터를 받을 수 있다.
```

### Acceptance Criteria
- [ ] TradingView API 접근 토큰 설정 완료
- [ ] 기본 시장 데이터 조회 API 연결 테스트 (S&P500, BTC, 주요 종목 등)
- [ ] 실시간 가격 데이터 수집 테스트 (5분 간격 데이터 수집)
- [ ] 데이터 저장소 구조 설계 (메모리 기반 우선)
- [ ] 에러 핸들링 및 리트라이 메커니즘 구현
- [ ] 로깅 시스템 기초 구축 (API 호출 상태, 에러 로그)

### 데이터 수집 대상
- **주요 지수**: S&P500, NASDAQ, BTC/USD, ETH/USD
- **주요 개별 종목**: AAPL, MSFT, GOOGL, TSLA, AMZN
- **수집 기간**: 5분마다 데이터 업데이트 테스트

---

## Story 1.3: WebSocket 실시간 데이터 스트리밍 시스템
**목표**: 웹 클라이언트에 실시간 데이터를 송신하는 스트리밍 시스템 구축

### User Story
```
사용자로서 웹 브라우저에서 실시간으로 시장 데이터를 받아볼 수 있어야 
매 초순간의 변화를 모니터링할 수 있다.
```

### Acceptance Criteria
- [ ] Socket.io 서버 설정 완료 (백엔드)
- [ ] 기본 WebSocket 연결 테스트 페이지 구현 (프론트엔드)
- [ ] 실시간 가격 데이터 스트리밍 시작 (15초마다 업데이트)
- [ ] 클라이언트-서버 연결 안정성 테스트
- [ ] 데이터 전송 오류 및 재연결 메커니즘 구현
- [ ] 실시간 데이터 로깅 및 모니터링 대시보드 기본 화면

### 기술적 요구사항
- **업데이트 간격**: 15초마다 새로운 데이터 전송
- **데이터 포맷**: JSON 형태로 가격, 거래량, 변화율 정보 포함
- **연결 관리**: 자동 재연결 및 연결 상태 모니터링

---

## Story 1.4: TradingView 차트 연동 인터페이스
**목표**: TradingView Charting Library를 사용한 기본 차트 표시 및 신호 연동 준비

### User Story
```
사용자로서 TradingView 인터페이스를 통해 실시간 차트를 볼 수 있어야 
숫자만이 아닌 시각적 데이터 분석을 할 수 있다.
```

### Acceptance Criteria
- [ ] TradingView Charting Library 기본 설정 및 임베드 완료
- [ ] 기본 차트 구성 (캔들스틱 차트, 볼륨 차트)
- [ ] 실시간 차트 데이터 소스 연결 (앞서 수집한 데이터 활용)
- [ ] 기본 기술적 지표 표시 준비 (SMA, RSI 준비된 단순 지표)
- [ ] 차트에 커스텀 오버레이 표시 기능 기초 (신호 표시용)
- [ ] 모바일 반응형 차트 구현

### 구현 범위
- **기본 차트**: 캔들스틱, 거래량, 가격 라인
- **기본 지표**: 20일 이동평균선, RSI (지표별 표시/숨기기 가능)
- **커스텀 표시**: 마커, 선 세그먼트 등 신호 표시용 오버레이 준비

---

## Story 1.5: 데이터 검증 및 성능 최적화
**목표**: 수집된 데이터 품질 검증 및 시스템 안정성 확보

### User Story
```
사용자로서 올바른 데이터를 안정적으로 받을 수 있어야 
신뢰할 수 있는 투자 분석 시스템을 구축할 수 있다.
```

### Acceptance Criteria
- [ ] 데이터 품질 검증 로직 구현 (NaN, null, 비정상적 값 여과)
- [ ] 시스템 성능 모니터링 (메모리 사용률, CPU 사용률, 응답시간)
- [ ] 데이터 중복 제거 및 정규화 처리
- [ ] 로그 레벨 시스템 구축 (DEBUG, INFO, WARN, ERROR)
- [ ] 기본 스트레스 테스트 실행 (동시 사용자 시뮬레이션)
- [ ] 코드 품질 검사 (ESLint, Prettier 적용)

### 성능 목표
- **응답시간**: API 호출 평균 응답시간 2초 이내
- **메모리 사용**: 24시간 연속 실행 시 메모리 누수 방지
- **안정성**: 95% 이상 정상 데이터 수집률 달성

---

## Story 간 의존성 및 순서
1. **Story 1.1** → 기본 개발 환경 구축 (다른 모든 스토리의 전제조건)
2. **Story 1.2** → TradingView API 연동 (데이터 소스 확보)
3. **Story 1.3** → 실시간 스트리밍 (클라이언트 연결)
4. **Story 1.4** → 차트 인터페이스 (사용자 화면)
5. **Story 1.5** → 품질 및 최적화 (운영 안정성)

각 스토리 완료 시점에 해당 기능이 독립적으로 테스트 가능해야 합니다.

---

## 사용자 검토 요청
**Epic 1의 스토리 순서와 내용이 적절한가요?**

1. 5개 스토리의 순서와 각각의 목표가 명확한가요?
2. 각 스토리가 "하루 정도 작업할 수 있는 규모"인가요?
3. 누락된 기능이나 추가 필요한 기능이 있나요?
4. 1개월 목표에 맞게 개발할 수 있을 것 같나요?
